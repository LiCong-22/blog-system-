[["Map",1,2,9,10],"meta::meta",["Map",3,4,5,6,7,8],"astro-version","5.16.6","content-config-digest","f78b0b9bd4352641","astro-config-digest","{\"root\":{},\"srcDir\":{},\"publicDir\":{},\"outDir\":{},\"cacheDir\":{},\"site\":\"https://your-name.vercel.app\",\"compressHTML\":true,\"base\":\"/\",\"trailingSlash\":\"ignore\",\"output\":\"static\",\"scopedStyleStrategy\":\"attribute\",\"build\":{\"format\":\"directory\",\"client\":{},\"server\":{},\"assets\":\"_astro\",\"serverEntry\":\"entry.mjs\",\"redirects\":true,\"inlineStylesheets\":\"auto\",\"concurrency\":1},\"server\":{\"open\":false,\"host\":false,\"port\":4321,\"streaming\":true,\"allowedHosts\":[]},\"redirects\":{},\"image\":{\"endpoint\":{\"route\":\"/_image\"},\"service\":{\"entrypoint\":\"astro/assets/services/sharp\",\"config\":{}},\"domains\":[],\"remotePatterns\":[],\"responsiveStyles\":false},\"devToolbar\":{\"enabled\":true},\"markdown\":{\"syntaxHighlight\":{\"type\":\"shiki\",\"excludeLangs\":[\"math\"]},\"shikiConfig\":{\"langs\":[],\"langAlias\":{},\"theme\":\"dracula\",\"themes\":{},\"wrap\":false,\"transformers\":[]},\"remarkPlugins\":[],\"rehypePlugins\":[],\"remarkRehype\":{},\"gfm\":true,\"smartypants\":true},\"security\":{\"checkOrigin\":true,\"allowedDomains\":[]},\"env\":{\"schema\":{},\"validateSecrets\":false},\"experimental\":{\"clientPrerender\":false,\"contentIntellisense\":false,\"headingIdCompat\":false,\"preserveScriptOrder\":false,\"liveContentCollections\":false,\"csp\":false,\"staticImportMetaEnv\":false,\"chromeDevtoolsWorkspace\":false,\"failOnPrerenderConflict\":false,\"svgo\":false},\"legacy\":{\"collections\":false}}","posts",["Map",11,12,39,40,71,72,119,120,148,149,189,190],"2026-01-04-测试文章",{"id":11,"data":13,"body":21,"filePath":22,"digest":23,"rendered":24,"legacyId":38},{"title":14,"description":15,"pubDate":16,"updatedDate":17,"tags":18},"测试文章","测试 MCP 发布功能",["Date","2026-01-04T00:00:00.000Z"],["Date","2026-01-04T00:00:00.000Z"],[19,20],"测试","MCP","这是通过 MCP 创建的测试文章。\n\n## 测试要点\n\n1. MCP 功能正常\n2. GitHub 集成成功\n3. 自动化流程可用","src/content/posts/2026-01-04-测试文章.md","502a985e16385b18",{"html":25,"metadata":26},"\u003Cp>这是通过 MCP 创建的测试文章。\u003C/p>\n\u003Ch2 id=\"测试要点\">测试要点\u003C/h2>\n\u003Col>\n\u003Cli>MCP 功能正常\u003C/li>\n\u003Cli>GitHub 集成成功\u003C/li>\n\u003Cli>自动化流程可用\u003C/li>\n\u003C/ol>",{"headings":27,"localImagePaths":31,"remoteImagePaths":32,"frontmatter":33,"imagePaths":37},[28],{"depth":29,"slug":30,"text":30},2,"测试要点",[],[],{"title":14,"description":15,"pubDate":34,"updatedDate":35,"tags":36},["Date","2026-01-04T00:00:00.000Z"],["Date","2026-01-04T00:00:00.000Z"],[19,20],[],"2026-01-04-测试文章.md","welcome",{"id":39,"data":41,"body":48,"filePath":49,"digest":50,"rendered":51,"legacyId":70},{"title":42,"description":43,"pubDate":44,"tags":45},"欢迎来到我的博客","这是博客的第一篇文章，介绍博客的用途和未来规划。",["Date","2025-12-25T00:00:00.000Z"],[46,47],"博客","介绍","# 欢迎\r\n\r\n这是我的新博客！\r\n\r\n## 博客用途\r\n\r\n1. **记录对话** - 总结每天与 AI 的讨论\r\n2. **分享笔记** - 技术学习笔记和思考\r\n3. **自动化** - 通过 MCP 实现自动发布\r\n\r\n## 技术栈\r\n\r\n- **Astro** - 静态站点生成器\r\n- **Vercel** - 免费托管\r\n- **MCP** - 自动化发布工具\r\n\r\n## 开始使用\r\n\r\n期待在这里分享更多内容！","src/content/posts/welcome.md","e7139b336c4c402b",{"html":52,"metadata":53},"\u003Ch1 id=\"欢迎\">欢迎\u003C/h1>\n\u003Cp>这是我的新博客！\u003C/p>\n\u003Ch2 id=\"博客用途\">博客用途\u003C/h2>\n\u003Col>\n\u003Cli>\u003Cstrong>记录对话\u003C/strong> - 总结每天与 AI 的讨论\u003C/li>\n\u003Cli>\u003Cstrong>分享笔记\u003C/strong> - 技术学习笔记和思考\u003C/li>\n\u003Cli>\u003Cstrong>自动化\u003C/strong> - 通过 MCP 实现自动发布\u003C/li>\n\u003C/ol>\n\u003Ch2 id=\"技术栈\">技术栈\u003C/h2>\n\u003Cul>\n\u003Cli>\u003Cstrong>Astro\u003C/strong> - 静态站点生成器\u003C/li>\n\u003Cli>\u003Cstrong>Vercel\u003C/strong> - 免费托管\u003C/li>\n\u003Cli>\u003Cstrong>MCP\u003C/strong> - 自动化发布工具\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"开始使用\">开始使用\u003C/h2>\n\u003Cp>期待在这里分享更多内容！\u003C/p>",{"headings":54,"localImagePaths":64,"remoteImagePaths":65,"frontmatter":66,"imagePaths":69},[55,58,60,62],{"depth":56,"slug":57,"text":57},1,"欢迎",{"depth":29,"slug":59,"text":59},"博客用途",{"depth":29,"slug":61,"text":61},"技术栈",{"depth":29,"slug":63,"text":63},"开始使用",[],[],{"title":42,"description":43,"pubDate":67,"tags":68},["Date","2025-12-25T00:00:00.000Z"],[46,47],[],"welcome.md","2026-01-04-mcp-架构解析ai-如何调用自定义工具",{"id":71,"data":73,"body":82,"filePath":83,"digest":84,"rendered":85,"legacyId":118},{"title":74,"description":75,"pubDate":76,"updatedDate":77,"tags":78},"MCP 架构解析：AI 如何调用自定义工具","解析 MCP 协议如何让 AI 调用自定义工具，包括架构设计和代码实现。",["Date","2026-01-04T00:00:00.000Z"],["Date","2026-01-04T00:00:00.000Z"],[20,79,80,81],"AI","技术架构","Python","# MCP 架构解析：AI 如何调用自定义工具\n\n之前有朋友问我，MCP 是怎么让 AI 调用我写的 Python 代码的？今天来详细讲讲。\n\n## MCP 是什么？\n\nMCP (Model Context Protocol) 是一个让 AI 模型能够调用外部工具的协议标准。\n\n## 工作流程\n\n```\nAI 模型 (Claude)\n       │\n       │ 识别需要调用工具\n       ▼\nMCP Client (Claude Code CLI)\n       │ stdin/stdout 通信\n       ▼\nMCP Server (Python)\n       │ 执行代码\n       ▼\nGitHub → Vercel 部署\n```\n\n![MCP 架构图](/mcp-architecture.jpg)\n\n## 核心代码\n\n### 1. 定义工具\n\n```python\n@server.list_tools()\nasync def list_tools() -> list[Tool]:\n    return [\n        Tool(\n            name='create_blog_post',\n            description='创建博客文章',\n            inputSchema={\n                'type': 'object',\n                'properties': {\n                    'title': {'type': 'string'},\n                    'content': {'type': 'string'},\n                    'tags': {'type': 'array'}\n                }\n            }\n        )\n    ]\n```\n\n### 2. 调用工具\n\n```python\n@server.call_tool()\nasync def call_tool(name, arguments):\n    if name == 'create_blog_post':\n        result = create_blog_post(\n            title=arguments['title'],\n            content=arguments['content'],\n            tags=arguments.get('tags', [])\n        )\n        return f'博客已创建: {result}'\n```\n\n## 我的实现\n\n我写了一个简单的 MCP Server，包含：\n\n- **blog_tool.py** - 博客发布核心逻辑\n  - 创建 Markdown 文件\n  - 执行 Git 提交推送\n\n- **server.py** - MCP 协议层\n  - 声明可用工具\n  - 处理工具调用请求\n\n## 使用效果\n\n对话变成博客的完整流程：\n\n1. 用户说：\"帮我把这段对话总结成博客\"\n2. AI 识别意图，调用 `create_blog_post` 工具\n3. MCP Server 接收请求，自动：\n   - 生成带日期的 Markdown 文件\n   - 写入 `src/content/posts/`\n   - 提交到 GitHub\n4. Vercel 自动部署\n5. 返回博客链接\n\n整个过程 AI 自动完成，我只需要专注于内容！\n\n## 总结\n\nMCP 的核心价值：**让 AI 能够执行你定义的任意代码逻辑**。\n\n无论是发布博客、操作数据库、调用 API，只要写好 Python 函数，AI 就能调用它。","src/content/posts/2026-01-04-mcp-架构解析ai-如何调用自定义工具.md","fb6a0e59c3571fc1",{"html":86,"metadata":87},"\u003Ch1 id=\"mcp-架构解析ai-如何调用自定义工具\">MCP 架构解析：AI 如何调用自定义工具\u003C/h1>\n\u003Cp>之前有朋友问我，MCP 是怎么让 AI 调用我写的 Python 代码的？今天来详细讲讲。\u003C/p>\n\u003Ch2 id=\"mcp-是什么\">MCP 是什么？\u003C/h2>\n\u003Cp>MCP (Model Context Protocol) 是一个让 AI 模型能够调用外部工具的协议标准。\u003C/p>\n\u003Ch2 id=\"工作流程\">工作流程\u003C/h2>\n\u003Cpre class=\"astro-code dracula\" style=\"background-color:#282A36;color:#F8F8F2; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>AI 模型 (Claude)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>       │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>       │ 识别需要调用工具\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>       ▼\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>MCP Client (Claude Code CLI)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>       │ stdin/stdout 通信\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>       ▼\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>MCP Server (Python)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>       │ 执行代码\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>       ▼\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>GitHub → Vercel 部署\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Cp>\u003Cimg src=\"/mcp-architecture.jpg\" alt=\"MCP 架构图\">\u003C/p>\n\u003Ch2 id=\"核心代码\">核心代码\u003C/h2>\n\u003Ch3 id=\"1-定义工具\">1. 定义工具\u003C/h3>\n\u003Cpre class=\"astro-code dracula\" style=\"background-color:#282A36;color:#F8F8F2; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#50FA7B\">@server.list_tools\u003C/span>\u003Cspan style=\"color:#F8F8F2\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF79C6\">async\u003C/span>\u003Cspan style=\"color:#FF79C6\"> def\u003C/span>\u003Cspan style=\"color:#50FA7B\"> list_tools\u003C/span>\u003Cspan style=\"color:#F8F8F2\">() \u003C/span>\u003Cspan style=\"color:#FF79C6\">->\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> list[Tool]:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF79C6\">    return\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">        Tool(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFB86C;font-style:italic\">            name\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">create_blog_post\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFB86C;font-style:italic\">            description\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">创建博客文章\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFB86C;font-style:italic\">            inputSchema\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#F8F8F2\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E9F284\">                '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">type\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">object\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E9F284\">                '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">properties\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E9F284\">                    '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">title\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: {\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">type\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">string\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E9F284\">                    '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">content\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: {\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">type\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">string\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E9F284\">                    '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">tags\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: {\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">type\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">array\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">                }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">        )\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">    ]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch3 id=\"2-调用工具\">2. 调用工具\u003C/h3>\n\u003Cpre class=\"astro-code dracula\" style=\"background-color:#282A36;color:#F8F8F2; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#50FA7B\">@server.call_tool\u003C/span>\u003Cspan style=\"color:#F8F8F2\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF79C6\">async\u003C/span>\u003Cspan style=\"color:#FF79C6\"> def\u003C/span>\u003Cspan style=\"color:#50FA7B\"> call_tool\u003C/span>\u003Cspan style=\"color:#F8F8F2\">(\u003C/span>\u003Cspan style=\"color:#FFB86C;font-style:italic\">name\u003C/span>\u003Cspan style=\"color:#F8F8F2\">, \u003C/span>\u003Cspan style=\"color:#FFB86C;font-style:italic\">arguments\u003C/span>\u003Cspan style=\"color:#F8F8F2\">):\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF79C6\">    if\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> name \u003C/span>\u003Cspan style=\"color:#FF79C6\">==\u003C/span>\u003Cspan style=\"color:#E9F284\"> '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">create_blog_post\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">        result \u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> create_blog_post(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFB86C;font-style:italic\">            title\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#F8F8F2\">arguments[\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">title\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFB86C;font-style:italic\">            content\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#F8F8F2\">arguments[\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">content\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">],\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFB86C;font-style:italic\">            tags\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#F8F8F2\">arguments.get(\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">tags\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">, [])\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">        )\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF79C6\">        return\u003C/span>\u003Cspan style=\"color:#FF79C6\"> f\u003C/span>\u003Cspan style=\"color:#F1FA8C\">'博客已创建: \u003C/span>\u003Cspan style=\"color:#BD93F9\">{\u003C/span>\u003Cspan style=\"color:#F8F8F2\">result\u003C/span>\u003Cspan style=\"color:#BD93F9\">}\u003C/span>\u003Cspan style=\"color:#F1FA8C\">'\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"我的实现\">我的实现\u003C/h2>\n\u003Cp>我写了一个简单的 MCP Server，包含：\u003C/p>\n\u003Cul>\n\u003Cli>\n\u003Cp>\u003Cstrong>blog_tool.py\u003C/strong> - 博客发布核心逻辑\u003C/p>\n\u003Cul>\n\u003Cli>创建 Markdown 文件\u003C/li>\n\u003Cli>执行 Git 提交推送\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>\n\u003Cp>\u003Cstrong>server.py\u003C/strong> - MCP 协议层\u003C/p>\n\u003Cul>\n\u003Cli>声明可用工具\u003C/li>\n\u003Cli>处理工具调用请求\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"使用效果\">使用效果\u003C/h2>\n\u003Cp>对话变成博客的完整流程：\u003C/p>\n\u003Col>\n\u003Cli>用户说：“帮我把这段对话总结成博客”\u003C/li>\n\u003Cli>AI 识别意图，调用 \u003Ccode>create_blog_post\u003C/code> 工具\u003C/li>\n\u003Cli>MCP Server 接收请求，自动：\n\u003Cul>\n\u003Cli>生成带日期的 Markdown 文件\u003C/li>\n\u003Cli>写入 \u003Ccode>src/content/posts/\u003C/code>\u003C/li>\n\u003Cli>提交到 GitHub\u003C/li>\n\u003C/ul>\n\u003C/li>\n\u003Cli>Vercel 自动部署\u003C/li>\n\u003Cli>返回博客链接\u003C/li>\n\u003C/ol>\n\u003Cp>整个过程 AI 自动完成，我只需要专注于内容！\u003C/p>\n\u003Ch2 id=\"总结\">总结\u003C/h2>\n\u003Cp>MCP 的核心价值：\u003Cstrong>让 AI 能够执行你定义的任意代码逻辑\u003C/strong>。\u003C/p>\n\u003Cp>无论是发布博客、操作数据库、调用 API，只要写好 Python 函数，AI 就能调用它。\u003C/p>",{"headings":88,"localImagePaths":111,"remoteImagePaths":112,"frontmatter":113,"imagePaths":117},[89,91,94,96,98,102,105,107,109],{"depth":56,"slug":90,"text":74},"mcp-架构解析ai-如何调用自定义工具",{"depth":29,"slug":92,"text":93},"mcp-是什么","MCP 是什么？",{"depth":29,"slug":95,"text":95},"工作流程",{"depth":29,"slug":97,"text":97},"核心代码",{"depth":99,"slug":100,"text":101},3,"1-定义工具","1. 定义工具",{"depth":99,"slug":103,"text":104},"2-调用工具","2. 调用工具",{"depth":29,"slug":106,"text":106},"我的实现",{"depth":29,"slug":108,"text":108},"使用效果",{"depth":29,"slug":110,"text":110},"总结",[],[],{"title":74,"description":75,"pubDate":114,"updatedDate":115,"tags":116},["Date","2026-01-04T00:00:00.000Z"],["Date","2026-01-04T00:00:00.000Z"],[20,79,80,81],[],"2026-01-04-mcp-架构解析ai-如何调用自定义工具.md","2026-01-05-加密测试文章",{"id":119,"data":121,"body":128,"filePath":129,"digest":130,"rendered":131,"legacyId":147},{"title":122,"description":123,"pubDate":124,"tags":125,"password":127},"加密测试文章","测试密码保护功能",["Date","2026-01-05T00:00:00.000Z"],[19,126],"加密","lc8814","# 加密测试\r\n\r\n这是一篇加密测试文章。\r\n\r\n## 测试内容\r\n\r\n如果能看到这篇文章，说明密码输入正确。\r\n\r\n## 功能说明\r\n\r\n- 前端密码验证\r\n- 解锁后自动保存状态","src/content/posts/2026-01-05-加密测试文章.md","e4716a38c219ca44",{"html":132,"metadata":133},"\u003Ch1 id=\"加密测试\">加密测试\u003C/h1>\n\u003Cp>这是一篇加密测试文章。\u003C/p>\n\u003Ch2 id=\"测试内容\">测试内容\u003C/h2>\n\u003Cp>如果能看到这篇文章，说明密码输入正确。\u003C/p>\n\u003Ch2 id=\"功能说明\">功能说明\u003C/h2>\n\u003Cul>\n\u003Cli>前端密码验证\u003C/li>\n\u003Cli>解锁后自动保存状态\u003C/li>\n\u003C/ul>",{"headings":134,"localImagePaths":141,"remoteImagePaths":142,"frontmatter":143,"imagePaths":146},[135,137,139],{"depth":56,"slug":136,"text":136},"加密测试",{"depth":29,"slug":138,"text":138},"测试内容",{"depth":29,"slug":140,"text":140},"功能说明",[],[],{"title":122,"description":123,"pubDate":144,"tags":145,"password":127},["Date","2026-01-05T00:00:00.000Z"],[19,126],[],"2026-01-05-加密测试文章.md","2026-01-05-博客目录结构",{"id":148,"data":150,"body":158,"filePath":159,"digest":160,"rendered":161,"legacyId":188},{"title":151,"description":152,"pubDate":153,"tags":154,"password":127},"博客文件目录结构","内部文档：博客系统目录结构说明",["Date","2026-01-05T00:00:00.000Z"],[155,156,157],"内部","文档","目录结构","# 博客系统目录结构\r\n\r\n## 根目录结构\r\n\r\n```\r\nblog-system/\r\n├── src/                 # 源代码目录\r\n│   ├── content/         # 内容配置\r\n│   │   └── posts/       # 博客文章 (Markdown)\r\n│   ├── layouts/         # 页面布局\r\n│   ├── pages/           # 页面路由\r\n│   ├── components/      # 组件\r\n│   └── styles/          # 样式\r\n├── public/              # 静态资源\r\n├── mcp-server/          # MCP 自动发布工具\r\n├── astro.config.mjs     # Astro 配置\r\n└── package.json\r\n```\r\n\r\n## 关键目录说明\r\n\r\n### `src/content/posts/`\r\n- 存放所有博客文章\r\n- 使用 Markdown 格式\r\n- 支持 frontmatter 元数据（标题、日期、标签、密码等）\r\n\r\n### `mcp-server/`\r\n- MCP (Model Context Protocol) 自动发布工具\r\n- 用于快速创建和发布博客文章\r\n\r\n## 发布流程\r\n\r\n1. 本地开发：`npm run dev`\r\n2. 构建生产：`npm run build`\r\n3. 提交 GitHub → Vercel 自动部署\r\n\r\n## 常用 Git 命令\r\n\r\n```bash\r\ngit add .\r\ngit commit -m \"描述\"\r\ngit push\r\n```","src/content/posts/2026-01-05-博客目录结构.md","e715efa9bb4d71e2",{"html":162,"metadata":163},"\u003Ch1 id=\"博客系统目录结构\">博客系统目录结构\u003C/h1>\n\u003Ch2 id=\"根目录结构\">根目录结构\u003C/h2>\n\u003Cpre class=\"astro-code dracula\" style=\"background-color:#282A36;color:#F8F8F2; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>blog-system/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── src/                 # 源代码目录\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   ├── content/         # 内容配置\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   │   └── posts/       # 博客文章 (Markdown)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   ├── layouts/         # 页面布局\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   ├── pages/           # 页面路由\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   ├── components/      # 组件\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>│   └── styles/          # 样式\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── public/              # 静态资源\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── mcp-server/          # MCP 自动发布工具\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── astro.config.mjs     # Astro 配置\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>└── package.json\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"关键目录说明\">关键目录说明\u003C/h2>\n\u003Ch3 id=\"srccontentposts\">\u003Ccode>src/content/posts/\u003C/code>\u003C/h3>\n\u003Cul>\n\u003Cli>存放所有博客文章\u003C/li>\n\u003Cli>使用 Markdown 格式\u003C/li>\n\u003Cli>支持 frontmatter 元数据（标题、日期、标签、密码等）\u003C/li>\n\u003C/ul>\n\u003Ch3 id=\"mcp-server\">\u003Ccode>mcp-server/\u003C/code>\u003C/h3>\n\u003Cul>\n\u003Cli>MCP (Model Context Protocol) 自动发布工具\u003C/li>\n\u003Cli>用于快速创建和发布博客文章\u003C/li>\n\u003C/ul>\n\u003Ch2 id=\"发布流程\">发布流程\u003C/h2>\n\u003Col>\n\u003Cli>本地开发：\u003Ccode>npm run dev\u003C/code>\u003C/li>\n\u003Cli>构建生产：\u003Ccode>npm run build\u003C/code>\u003C/li>\n\u003Cli>提交 GitHub → Vercel 自动部署\u003C/li>\n\u003C/ol>\n\u003Ch2 id=\"常用-git-命令\">常用 Git 命令\u003C/h2>\n\u003Cpre class=\"astro-code dracula\" style=\"background-color:#282A36;color:#F8F8F2; overflow-x: auto;\" tabindex=\"0\" data-language=\"bash\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#50FA7B\">git\u003C/span>\u003Cspan style=\"color:#F1FA8C\"> add\u003C/span>\u003Cspan style=\"color:#F1FA8C\"> .\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#50FA7B\">git\u003C/span>\u003Cspan style=\"color:#F1FA8C\"> commit\u003C/span>\u003Cspan style=\"color:#BD93F9\"> -m\u003C/span>\u003Cspan style=\"color:#E9F284\"> \"\u003C/span>\u003Cspan style=\"color:#F1FA8C\">描述\u003C/span>\u003Cspan style=\"color:#E9F284\">\"\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#50FA7B\">git\u003C/span>\u003Cspan style=\"color:#F1FA8C\"> push\u003C/span>\u003C/span>\u003C/code>\u003C/pre>",{"headings":164,"localImagePaths":182,"remoteImagePaths":183,"frontmatter":184,"imagePaths":187},[165,167,169,171,174,177,179],{"depth":56,"slug":166,"text":166},"博客系统目录结构",{"depth":29,"slug":168,"text":168},"根目录结构",{"depth":29,"slug":170,"text":170},"关键目录说明",{"depth":99,"slug":172,"text":173},"srccontentposts","src/content/posts/",{"depth":99,"slug":175,"text":176},"mcp-server","mcp-server/",{"depth":29,"slug":178,"text":178},"发布流程",{"depth":29,"slug":180,"text":181},"常用-git-命令","常用 Git 命令",[],[],{"title":151,"description":152,"pubDate":185,"tags":186,"password":127},["Date","2026-01-05T00:00:00.000Z"],[155,156,157],[],"2026-01-05-博客目录结构.md","2026-01-05-mcp-server-设计解析",{"id":189,"data":191,"body":198,"filePath":199,"digest":200,"rendered":201,"legacyId":236},{"title":192,"description":193,"pubDate":194,"updatedDate":195,"tags":196},"MCP Server 设计解析","深入理解 MCP 协议架构和开发流程",["Date","2026-01-05T00:00:00.000Z"],["Date","2026-01-05T00:00:00.000Z"],[20,79,81,197],"架构设计","# MCP Server 设计解析\n\n本文深入介绍 MCP (Model Context Protocol) Server 的架构设计和开发流程。\n\n## 1. 核心架构\n\n```\nAI (Claude)          MCP Server          业务逻辑\n    │                   │                   │\n    │  list_tools      │                   │\n    │ ───────────────► │                   │\n    │                  │ ── 查询 ─────────►│\n    │                  │ ◄── 返回工具列表──│\n    │  返回工具描述     │                   │\n    │ ◄─────────────── │                   │\n    │                   │                   │\n    │  call_tool       │                   │\n    │ ───────────────► │                   │\n    │                  │ ── 调用 ─────────►│\n    │                  │   创建 md 文件     │\n    │                  │   git push        │\n    │                  │ ◄── 返回结果 ──── │\n    │  返回执行结果     │                   │\n    │ ◄─────────────── │                   │\n```\n\n## 2. 使用的库和 API\n\n| 库/模块 | 用途 |\n|---------|------|\n| mcp.server | MCP 协议核心 |\n| mcp.types | 定义 Tool、TextContent |\n| PyGithub | GitHub API 交互 |\n| python-dotenv | 环境变量管理 |\n| aiohttp | HTTP 服务器 |\n\n## 3. MCP 开发流程\n\n```\n1. 安装依赖\n   pip install mcp PyGithub python-dotenv aiohttp\n\n2. 创建 Server 实例\n   server = Server('my-mcp-server')\n\n3. 定义工具 (list_tools)\n   - 工具名 name\n   - 描述 description\n   - 输入参数 inputSchema (JSON Schema)\n\n4. 实现工具逻辑 (call_tool)\n   - 根据 name 分发\n   - 调用业务函数\n   - 返回 TextContent[]\n\n5. 选择传输模式\n   - stdio: 标准输入输出 (本地)\n   - HTTP: 网络传输 (远程)\n\n6. 配置客户端\n   Claude Desktop / Claude Code 添加 MCP 配置\n```\n\n## 4. 核心 API 详解\n\n```python\n# 创建服务器\nserver = Server('blog-mcp-server')\n\n# 定义工具\n@server.list_tools()\nasync def list_tools() -> list[Tool]:\n    return [\n        Tool(\n            name='create_blog_post',\n            description='创建博客文章',\n            inputSchema={\n                'type': 'object',\n                'properties': {\n                    'title': {'type': 'string', 'description': '文章标题'},\n                    'content': {'type': 'string', 'description': '文章内容'}\n                },\n                'required': ['title', 'content']\n            }\n        )\n    ]\n\n# 处理工具调用\n@server.call_tool()\nasync def call_tool(name: str, arguments: dict) -> list[TextContent]:\n    if name == 'create_blog_post':\n        result = create_blog_post(...)\n        return [TextContent(type='text', text=result)]\n```\n\n## 5. JSON-RPC 协议\n\n```json\n// 请求\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"create_blog_post\",\n    \"arguments\": {\"title\": \"标题\", \"content\": \"内容\"}\n  }\n}\n\n// 响应\n{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"result\": {\"content\": [{\"type\": \"text\", \"text\": \"成功\"}]}\n}\n```\n\n## 6. 两种传输模式\n\n| 模式 | 命令 | 场景 |\n|------|------|------|\n| stdio | python server.py | 本地 Claude Desktop |\n| HTTP | python server.py --mode http | 远程（配合 cloudflared） |\n\n## 7. 文件结构\n\n```\nmcp-server/\n├── server.py      # MCP Server (协议层)\n├── blog_tool.py   # 业务逻辑层\n├── requirements.txt\n└── README.md\n```\n\n## 总结\n\nMCP 的核心是：**定义工具 → 处理调用 → 执行业务 → 返回结果**","src/content/posts/2026-01-05-mcp-server-设计解析.md","3a7441e6532b2048",{"html":202,"metadata":203},"\u003Ch1 id=\"mcp-server-设计解析\">MCP Server 设计解析\u003C/h1>\n\u003Cp>本文深入介绍 MCP (Model Context Protocol) Server 的架构设计和开发流程。\u003C/p>\n\u003Ch2 id=\"1-核心架构\">1. 核心架构\u003C/h2>\n\u003Cpre class=\"astro-code dracula\" style=\"background-color:#282A36;color:#F8F8F2; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>AI (Claude)          MCP Server          业务逻辑\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │                   │                   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │  list_tools      │                   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │ ───────────────► │                   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │                  │ ── 查询 ─────────►│\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │                  │ ◄── 返回工具列表──│\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │  返回工具描述     │                   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │ ◄─────────────── │                   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │                   │                   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │  call_tool       │                   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │ ───────────────► │                   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │                  │ ── 调用 ─────────►│\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │                  │   创建 md 文件     │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │                  │   git push        │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │                  │ ◄── 返回结果 ──── │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │  返回执行结果     │                   │\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>    │ ◄─────────────── │                   │\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"2-使用的库和-api\">2. 使用的库和 API\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>库/模块\u003C/th>\u003Cth>用途\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>mcp.server\u003C/td>\u003Ctd>MCP 协议核心\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>mcp.types\u003C/td>\u003Ctd>定义 Tool、TextContent\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>PyGithub\u003C/td>\u003Ctd>GitHub API 交互\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>python-dotenv\u003C/td>\u003Ctd>环境变量管理\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>aiohttp\u003C/td>\u003Ctd>HTTP 服务器\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch2 id=\"3-mcp-开发流程\">3. MCP 开发流程\u003C/h2>\n\u003Cpre class=\"astro-code dracula\" style=\"background-color:#282A36;color:#F8F8F2; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>1. 安装依赖\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   pip install mcp PyGithub python-dotenv aiohttp\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>2. 创建 Server 实例\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   server = Server('my-mcp-server')\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>3. 定义工具 (list_tools)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   - 工具名 name\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   - 描述 description\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   - 输入参数 inputSchema (JSON Schema)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>4. 实现工具逻辑 (call_tool)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   - 根据 name 分发\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   - 调用业务函数\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   - 返回 TextContent[]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>5. 选择传输模式\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   - stdio: 标准输入输出 (本地)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   - HTTP: 网络传输 (远程)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>6. 配置客户端\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>   Claude Desktop / Claude Code 添加 MCP 配置\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"4-核心-api-详解\">4. 核心 API 详解\u003C/h2>\n\u003Cpre class=\"astro-code dracula\" style=\"background-color:#282A36;color:#F8F8F2; overflow-x: auto;\" tabindex=\"0\" data-language=\"python\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6272A4\"># 创建服务器\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">server \u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> Server(\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">blog-mcp-server\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6272A4\"># 定义工具\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#50FA7B\">@server.list_tools\u003C/span>\u003Cspan style=\"color:#F8F8F2\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF79C6\">async\u003C/span>\u003Cspan style=\"color:#FF79C6\"> def\u003C/span>\u003Cspan style=\"color:#50FA7B\"> list_tools\u003C/span>\u003Cspan style=\"color:#F8F8F2\">() \u003C/span>\u003Cspan style=\"color:#FF79C6\">->\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> list[Tool]:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF79C6\">    return\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> [\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">        Tool(\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFB86C;font-style:italic\">            name\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">create_blog_post\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFB86C;font-style:italic\">            description\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">创建博客文章\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FFB86C;font-style:italic\">            inputSchema\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#F8F8F2\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E9F284\">                '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">type\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">object\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E9F284\">                '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">properties\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E9F284\">                    '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">title\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: {\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">type\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">string\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">, \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">description\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">文章标题\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">},\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E9F284\">                    '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">content\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: {\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">type\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">string\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">, \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">description\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">文章内容\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">                },\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#E9F284\">                '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">required\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">: [\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">title\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">, \u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">content\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">            }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">        )\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">    ]\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6272A4\"># 处理工具调用\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#50FA7B\">@server.call_tool\u003C/span>\u003Cspan style=\"color:#F8F8F2\">()\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF79C6\">async\u003C/span>\u003Cspan style=\"color:#FF79C6\"> def\u003C/span>\u003Cspan style=\"color:#50FA7B\"> call_tool\u003C/span>\u003Cspan style=\"color:#F8F8F2\">(\u003C/span>\u003Cspan style=\"color:#FFB86C;font-style:italic\">name\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#8BE9FD;font-style:italic\"> str\u003C/span>\u003Cspan style=\"color:#F8F8F2\">, \u003C/span>\u003Cspan style=\"color:#FFB86C;font-style:italic\">arguments\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#8BE9FD;font-style:italic\"> dict\u003C/span>\u003Cspan style=\"color:#F8F8F2\">) \u003C/span>\u003Cspan style=\"color:#FF79C6\">->\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> list[TextContent]:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF79C6\">    if\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> name \u003C/span>\u003Cspan style=\"color:#FF79C6\">==\u003C/span>\u003Cspan style=\"color:#E9F284\"> '\u003C/span>\u003Cspan style=\"color:#F1FA8C\">create_blog_post\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">:\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">        result \u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> create_blog_post(\u003C/span>\u003Cspan style=\"color:#BD93F9\">...\u003C/span>\u003Cspan style=\"color:#F8F8F2\">)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#FF79C6\">        return\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> [TextContent(\u003C/span>\u003Cspan style=\"color:#FFB86C;font-style:italic\">type\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F1FA8C\">text\u003C/span>\u003Cspan style=\"color:#E9F284\">'\u003C/span>\u003Cspan style=\"color:#F8F8F2\">, \u003C/span>\u003Cspan style=\"color:#FFB86C;font-style:italic\">text\u003C/span>\u003Cspan style=\"color:#FF79C6\">=\u003C/span>\u003Cspan style=\"color:#F8F8F2\">result)]\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"5-json-rpc-协议\">5. JSON-RPC 协议\u003C/h2>\n\u003Cpre class=\"astro-code dracula\" style=\"background-color:#282A36;color:#F8F8F2; overflow-x: auto;\" tabindex=\"0\" data-language=\"json\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan style=\"color:#6272A4\">// 请求\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#8BE9FE\">  \"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">jsonrpc\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#E9F284\"> \"\u003C/span>\u003Cspan style=\"color:#F1FA8C\">2.0\u003C/span>\u003Cspan style=\"color:#E9F284\">\"\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#8BE9FE\">  \"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">id\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#BD93F9\"> 1\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#8BE9FE\">  \"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">method\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#E9F284\"> \"\u003C/span>\u003Cspan style=\"color:#F1FA8C\">tools/call\u003C/span>\u003Cspan style=\"color:#E9F284\">\"\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#8BE9FE\">  \"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">params\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> {\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#8BE9FE\">    \"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">name\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#E9F284\"> \"\u003C/span>\u003Cspan style=\"color:#F1FA8C\">create_blog_post\u003C/span>\u003Cspan style=\"color:#E9F284\">\"\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#8BE9FE\">    \"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">arguments\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> {\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">title\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#E9F284\"> \"\u003C/span>\u003Cspan style=\"color:#F1FA8C\">标题\u003C/span>\u003Cspan style=\"color:#E9F284\">\"\u003C/span>\u003Cspan style=\"color:#F8F8F2\">, \u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">content\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#E9F284\"> \"\u003C/span>\u003Cspan style=\"color:#F1FA8C\">内容\u003C/span>\u003Cspan style=\"color:#E9F284\">\"\u003C/span>\u003Cspan style=\"color:#F8F8F2\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">  }\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#6272A4\">// 响应\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">{\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#8BE9FE\">  \"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">jsonrpc\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#E9F284\"> \"\u003C/span>\u003Cspan style=\"color:#F1FA8C\">2.0\u003C/span>\u003Cspan style=\"color:#E9F284\">\"\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#8BE9FE\">  \"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">id\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#BD93F9\"> 1\u003C/span>\u003Cspan style=\"color:#F8F8F2\">,\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#8BE9FE\">  \"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">result\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> {\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">content\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#F8F8F2\"> [{\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">type\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#E9F284\"> \"\u003C/span>\u003Cspan style=\"color:#F1FA8C\">text\u003C/span>\u003Cspan style=\"color:#E9F284\">\"\u003C/span>\u003Cspan style=\"color:#F8F8F2\">, \u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#8BE9FD\">text\u003C/span>\u003Cspan style=\"color:#8BE9FE\">\"\u003C/span>\u003Cspan style=\"color:#FF79C6\">:\u003C/span>\u003Cspan style=\"color:#E9F284\"> \"\u003C/span>\u003Cspan style=\"color:#F1FA8C\">成功\u003C/span>\u003Cspan style=\"color:#E9F284\">\"\u003C/span>\u003Cspan style=\"color:#F8F8F2\">}]}\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan style=\"color:#F8F8F2\">}\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"6-两种传输模式\">6. 两种传输模式\u003C/h2>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\u003Ctable>\u003Cthead>\u003Ctr>\u003Cth>模式\u003C/th>\u003Cth>命令\u003C/th>\u003Cth>场景\u003C/th>\u003C/tr>\u003C/thead>\u003Ctbody>\u003Ctr>\u003Ctd>stdio\u003C/td>\u003Ctd>python server.py\u003C/td>\u003Ctd>本地 Claude Desktop\u003C/td>\u003C/tr>\u003Ctr>\u003Ctd>HTTP\u003C/td>\u003Ctd>python server.py —mode http\u003C/td>\u003Ctd>远程（配合 cloudflared）\u003C/td>\u003C/tr>\u003C/tbody>\u003C/table>\n\u003Ch2 id=\"7-文件结构\">7. 文件结构\u003C/h2>\n\u003Cpre class=\"astro-code dracula\" style=\"background-color:#282A36;color:#F8F8F2; overflow-x: auto;\" tabindex=\"0\" data-language=\"plaintext\">\u003Ccode>\u003Cspan class=\"line\">\u003Cspan>mcp-server/\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── server.py      # MCP Server (协议层)\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── blog_tool.py   # 业务逻辑层\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>├── requirements.txt\u003C/span>\u003C/span>\n\u003Cspan class=\"line\">\u003Cspan>└── README.md\u003C/span>\u003C/span>\u003C/code>\u003C/pre>\n\u003Ch2 id=\"总结\">总结\u003C/h2>\n\u003Cp>MCP 的核心是：\u003Cstrong>定义工具 → 处理调用 → 执行业务 → 返回结果\u003C/strong>\u003C/p>",{"headings":204,"localImagePaths":229,"remoteImagePaths":230,"frontmatter":231,"imagePaths":235},[205,207,210,213,216,219,222,225,228],{"depth":56,"slug":206,"text":192},"mcp-server-设计解析",{"depth":29,"slug":208,"text":209},"1-核心架构","1. 核心架构",{"depth":29,"slug":211,"text":212},"2-使用的库和-api","2. 使用的库和 API",{"depth":29,"slug":214,"text":215},"3-mcp-开发流程","3. MCP 开发流程",{"depth":29,"slug":217,"text":218},"4-核心-api-详解","4. 核心 API 详解",{"depth":29,"slug":220,"text":221},"5-json-rpc-协议","5. JSON-RPC 协议",{"depth":29,"slug":223,"text":224},"6-两种传输模式","6. 两种传输模式",{"depth":29,"slug":226,"text":227},"7-文件结构","7. 文件结构",{"depth":29,"slug":110,"text":110},[],[],{"title":192,"description":193,"pubDate":232,"updatedDate":233,"tags":234},["Date","2026-01-05T00:00:00.000Z"],["Date","2026-01-05T00:00:00.000Z"],[20,79,81,197],[],"2026-01-05-mcp-server-设计解析.md"]