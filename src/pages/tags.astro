---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('posts');
const tags = [...new Set(posts.flatMap(post => post.data.tags))];
---

<Layout title="标签" description="所有标签">
	<h1>标签列表</h1>
	<div class="tags-list">
		{tags.map(tag => (
			<a href={`/tags/${tag}`} class="tag">{tag}</a>
		))}
	</div>
	{tags.length === 0 && <p>暂无标签</p>}
</Layout>

<style>
	.tags-list {
		display: flex;
		flex-wrap: wrap;
		gap: 0.75rem;
		margin-top: 1.5rem;
	}

	.tag {
		display: inline-block;
		background: #eff6ff;
		color: var(--primary);
		padding: 0.5rem 1rem;
		border-radius: 9999px;
		text-decoration: none;
		transition: background 0.2s;
	}

	.tag:hover {
		background: #dbeafe;
	}
</style>
